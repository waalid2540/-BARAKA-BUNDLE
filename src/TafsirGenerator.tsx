import React, { useState } from 'react'

interface TafsirResult {
  verse: string
  verseArabic: string
  reference: string
  explanation: string
  keyLessons: string[]
  historicalContext: string
  practicalApplication: string
}

const TafsirGenerator = () => {
  const [selectedSurah, setSelectedSurah] = useState('')
  const [verseRange, setVerseRange] = useState('')
  const [language, setLanguage] = useState('english')
  const [explanationLevel, setExplanationLevel] = useState<'simple' | 'detailed' | 'scholarly'>('simple')
  const [isGenerating, setIsGenerating] = useState(false)
  const [tafsirResult, setTafsirResult] = useState<TafsirResult | null>(null)

  const languages = [
    { code: 'english', name: 'English', flag: 'ğŸ‡ºğŸ‡¸' },
    { code: 'arabic', name: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ğŸ‡¸ğŸ‡¦' },
    { code: 'turkish', name: 'TÃ¼rkÃ§e', flag: 'ğŸ‡¹ğŸ‡·' },
    { code: 'indonesian', name: 'Bahasa Indonesia', flag: 'ğŸ‡®ğŸ‡©' },
    { code: 'urdu', name: 'Ø§Ø±Ø¯Ùˆ', flag: 'ğŸ‡µğŸ‡°' },
    { code: 'persian', name: 'ÙØ§Ø±Ø³ÛŒ', flag: 'ğŸ‡®ğŸ‡·' },
    { code: 'bengali', name: 'à¦¬à¦¾à¦‚à¦²à¦¾', flag: 'ğŸ‡§ğŸ‡©' },
    { code: 'malay', name: 'Bahasa Melayu', flag: 'ğŸ‡²ğŸ‡¾' },
    { code: 'french', name: 'FranÃ§ais', flag: 'ğŸ‡«ğŸ‡·' },
    { code: 'german', name: 'Deutsch', flag: 'ğŸ‡©ğŸ‡ª' }
  ]

  const popularSurahs = [
    { name: 'Al-Fatiha', arabicName: 'Ø§Ù„ÙØ§ØªØ­Ø©', number: 1 },
    { name: 'Al-Baqarah', arabicName: 'Ø§Ù„Ø¨Ù‚Ø±Ø©', number: 2 },
    { name: 'Ale-Imran', arabicName: 'Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†', number: 3 },
    { name: 'Yasin', arabicName: 'ÙŠØ³', number: 36 },
    { name: 'Ar-Rahman', arabicName: 'Ø§Ù„Ø±Ø­Ù…Ù†', number: 55 },
    { name: 'Al-Kahf', arabicName: 'Ø§Ù„ÙƒÙ‡Ù', number: 18 },
    { name: 'Maryam', arabicName: 'Ù…Ø±ÙŠÙ…', number: 19 },
    { name: 'Al-Mulk', arabicName: 'Ø§Ù„Ù…Ù„Ùƒ', number: 67 },
    { name: 'Al-Ikhlas', arabicName: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', number: 112 },
    { name: 'Al-Falaq', arabicName: 'Ø§Ù„ÙÙ„Ù‚', number: 113 },
    { name: 'An-Nas', arabicName: 'Ø§Ù„Ù†Ø§Ø³', number: 114 }
  ]

  const generateTafsir = async () => {
    setIsGenerating(true)
    
    // Simulate AI generation
    await new Promise(resolve => setTimeout(resolve, 3000))
    
    // Sample tafsir (would be generated by AI in real app)
    const result: TafsirResult = {
      verse: language === 'arabic' ? 
        'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù' :
        language === 'turkish' ?
        'Esirgeyen, baÄŸÄ±ÅŸlayan Allah\'Ä±n adÄ±yla' :
        language === 'indonesian' ?
        'Dengan nama Allah Yang Maha Pengasih, Maha Penyayang' :
        'In the name of Allah, the Most Gracious, the Most Merciful',
      verseArabic: 'Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙÙ‘Ù‡Ù Ø§Ù„Ø±ÙÙ‘Ø­Ù’Ù…ÙÙ°Ù†Ù Ø§Ù„Ø±ÙÙ‘Ø­ÙÙŠÙ…Ù',
      reference: 'Al-Fatiha 1:1',
      explanation: language === 'arabic' ?
        'Ø§Ù„Ø¨Ø³Ù…Ù„Ø© Ù‡ÙŠ Ø¨Ø¯Ø§ÙŠØ© ÙƒÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø¹Ø¯Ø§ Ø³ÙˆØ±Ø© Ø§Ù„ØªÙˆØ¨Ø©. ÙˆÙ‡ÙŠ ØªØ­Ù…Ù„ Ù…Ø¹Ø§Ù†ÙŠ Ø¹Ø¸ÙŠÙ…Ø© Ù…Ù† Ø§Ù„Ø±Ø­Ù…Ø© ÙˆØ§Ù„Ø¨Ø±ÙƒØ©. "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡" ÙŠØ¹Ù†ÙŠ Ø£Ù†Ù†Ø§ Ù†Ø¨Ø¯Ø£ ÙƒÙ„ Ø¹Ù…Ù„ Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ù‡ØŒ Ù…Ø³ØªØ¹ÙŠÙ†ÙŠÙ† Ø¨Ù‡ ÙˆÙ…ØªÙˆÙƒÙ„ÙŠÙ† Ø¹Ù„ÙŠÙ‡. "Ø§Ù„Ø±Ø­Ù…Ù†" ØµÙØ© ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø³Ø¹Ø© Ø±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ Ø§Ù„ØªÙŠ ÙˆØ³Ø¹Øª ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ùˆ"Ø§Ù„Ø±Ø­ÙŠÙ…" ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø±Ø­Ù…ØªÙ‡ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† ÙÙŠ Ø§Ù„Ø¢Ø®Ø±Ø©. Ù‡Ø°Ù‡ Ø§Ù„Ø¢ÙŠØ© ØªØ¹Ù„Ù…Ù†Ø§ Ø£Ù† Ù†Ø¨Ø¯Ø£ ÙƒÙ„ Ø£Ø¹Ù…Ø§Ù„Ù†Ø§ Ø¨Ø°ÙƒØ± Ø§Ù„Ù„Ù‡ ÙˆØ·Ù„Ø¨ Ø¨Ø±ÙƒØªÙ‡.' :
        language === 'turkish' ?
        'Besmele, Tevbe suresi hariÃ§ Kuran\'Ä±n her suresinin baÅŸlangÄ±cÄ±dÄ±r ve bÃ¼yÃ¼k rahmet ve bereket anlamlarÄ± taÅŸÄ±r. "Bismillah" her iÅŸimizi Allah\'Ä±n adÄ±yla baÅŸladÄ±ÄŸÄ±mÄ±z, O\'ndan yardÄ±m istediÄŸimiz ve O\'na gÃ¼vendiÄŸimiz anlamÄ±na gelir. "Rahman" Allah\'Ä±n her ÅŸeyi kapsayan geniÅŸ rahmetini, "Rahim" ise ahirette mÃ¼minlere Ã¶zel rahmetini ifade eder. Bu ayet bize tÃ¼m iÅŸlerimizi Allah\'Ä± zikrederek ve O\'nun bereketini isteyerek baÅŸlamamÄ±zÄ± Ã¶ÄŸretir.' :
        language === 'indonesian' ?
        'Basmalah adalah pembukaan setiap surah dalam Al-Quran kecuali surah At-Taubah, dan mengandung makna agung tentang rahmat dan berkah. "Bismillah" berarti kita memulai setiap pekerjaan dengan nama Allah, memohon pertolongan-Nya dan bertawakal kepada-Nya. "Ar-Rahman" menunjukkan keluasan rahmat Allah yang meliputi segala sesuatu, dan "Ar-Rahim" menunjukkan rahmat khusus-Nya kepada orang-orang beriman di akhirat. Ayat ini mengajarkan kita untuk memulai semua pekerjaan dengan mengingat Allah dan memohon berkah-Nya.' :
        'The Basmalah is the opening of every chapter in the Quran except Surah At-Tawbah, and carries profound meanings of mercy and blessing. "Bismillah" means we begin every action in Allah\'s name, seeking His help and relying upon Him. "Ar-Rahman" indicates Allah\'s vast mercy that encompasses all things, while "Ar-Rahim" indicates His special mercy for believers in the hereafter. This verse teaches us to begin all our actions by remembering Allah and seeking His blessing.',
      keyLessons: language === 'arabic' ? [
        'Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¨Ø§Ø³Ù… Ø§Ù„Ù„Ù‡ ÙÙŠ ÙƒÙ„ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„',
        'Ø§Ù„Ø§Ø³ØªØ¹Ø§Ù†Ø© Ø¨Ø§Ù„Ù„Ù‡ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù…ÙˆØ±',
        'ØªØ°ÙƒØ± Ø±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ Ø§Ù„ÙˆØ§Ø³Ø¹Ø©',
        'Ø§Ù„ØªÙˆÙƒÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø³Ø¨Ø­Ø§Ù†Ù‡ ÙˆØªØ¹Ø§Ù„Ù‰'
      ] : language === 'turkish' ? [
        'Her iÅŸe Allah\'Ä±n adÄ±yla baÅŸlamak',
        'TÃ¼m iÅŸlerde Allah\'tan yardÄ±m istemek',
        'Allah\'Ä±n geniÅŸ rahmetini hatÄ±rlamak',
        'Allah\'a gÃ¼venmek ve tevekkÃ¼l etmek'
      ] : language === 'indonesian' ? [
        'Memulai setiap pekerjaan dengan nama Allah',
        'Memohon pertolongan Allah dalam segala hal',
        'Mengingat rahmat Allah yang luas',
        'Bertawakal kepada Allah SWT'
      ] : [
        'Beginning every action in Allah\'s name',
        'Seeking Allah\'s help in all matters',
        'Remembering Allah\'s vast mercy',
        'Placing trust and reliance in Allah'
      ],
      historicalContext: language === 'arabic' ?
        'Ø§Ù„Ø¨Ø³Ù…Ù„Ø© ÙƒØ§Ù†Øª Ù…Ø¹Ø±ÙˆÙØ© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŒ Ù„ÙƒÙ† Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø£Ø¹Ø·Ø§Ù‡Ø§ Ù…Ø¹Ù†Ù‰ Ø£Ø¹Ù…Ù‚ ÙˆØ£ÙƒÙ…Ù„. Ø§Ù„Ù†Ø¨ÙŠ Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… ÙƒØ§Ù† ÙŠØ¨Ø¯Ø£ Ø±Ø³Ø§Ø¦Ù„Ù‡ Ø¨Ø§Ù„Ø¨Ø³Ù…Ù„Ø©ØŒ ÙˆØ£ØµØ¨Ø­Øª Ø¬Ø²Ø¡Ø§Ù‹ Ù„Ø§ ÙŠØªØ¬Ø²Ø£ Ù…Ù† Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©.' :
        language === 'turkish' ?
        'Besmele Ä°slam\'dan Ã¶nce de biliniyordu, ancak Ä°slam ona daha derin ve eksiksiz bir anlam kazandÄ±rdÄ±. Hz. Muhammed (SAV) mektuplarÄ±na besmele ile baÅŸlardÄ± ve gÃ¼nlÃ¼k Ä°slami uygulamalarÄ±n ayrÄ±lmaz bir parÃ§asÄ± haline geldi.' :
        language === 'indonesian' ?
        'Basmalah sudah dikenal sebelum Islam, tetapi Islam memberikannya makna yang lebih dalam dan sempurna. Nabi Muhammad SAW memulai surat-suratnya dengan basmalah, dan menjadi bagian tak terpisahkan dari praktik Islam sehari-hari.' :
        'The Basmalah was known before Islam, but Islam gave it a deeper and more complete meaning. Prophet Muhammad (SAW) would begin his letters with the Basmalah, and it became an integral part of daily Islamic practices.',
      practicalApplication: language === 'arabic' ?
        'ÙŠÙ…ÙƒÙ† ØªØ·Ø¨ÙŠÙ‚ Ù‡Ø°Ù‡ Ø§Ù„Ø¢ÙŠØ© ÙÙŠ Ø­ÙŠØ§ØªÙ†Ø§ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¨Ù‚ÙˆÙ„ "Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡" Ù‚Ø¨Ù„ Ø§Ù„Ø£ÙƒÙ„ ÙˆØ§Ù„Ø´Ø±Ø¨ ÙˆØ§Ù„Ø³ÙØ± ÙˆØ§Ù„Ø¹Ù…Ù„ ÙˆØ¨Ø¯Ø§ÙŠØ© Ø£ÙŠ Ù…Ù‡Ù…Ø©. Ù‡Ø°Ø§ ÙŠØ°ÙƒØ±Ù†Ø§ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨ÙˆØ¬ÙˆØ¯ Ø§Ù„Ù„Ù‡ ÙˆÙŠØ¬Ù„Ø¨ Ø§Ù„Ø¨Ø±ÙƒØ© ÙÙŠ Ø£Ø¹Ù…Ø§Ù„Ù†Ø§. ÙƒÙ…Ø§ ÙŠÙ…ÙƒÙ† ØªÙ„Ø§ÙˆØªÙ‡Ø§ Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø¹ÙˆØ± Ø¨Ø§Ù„Ù‚Ù„Ù‚ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø³ÙƒÙŠÙ†Ø© ÙˆØ§Ù„Ø·Ù…Ø£Ù†ÙŠÙ†Ø©.' :
        language === 'turkish' ?
        'Bu ayeti gÃ¼nlÃ¼k hayatÄ±mÄ±zda yemek, iÃ§mek, seyahat etmek, Ã§alÄ±ÅŸmak ve herhangi bir gÃ¶reve baÅŸlamadan Ã¶nce "Bismillah" diyerek uygulayabiliriz. Bu bizi her zaman Allah\'Ä±n varlÄ±ÄŸÄ±nÄ± hatÄ±rlatÄ±r ve iÅŸlerimize bereket getirir. AyrÄ±ca kaygÄ± hissettiÄŸimizde huzur ve gÃ¼ven iÃ§in okunabilir.' :
        language === 'indonesian' ?
        'Kita dapat menerapkan ayat ini dalam kehidupan sehari-hari dengan mengucapkan "Bismillah" sebelum makan, minum, bepergian, bekerja, dan memulai tugas apapun. Ini selalu mengingatkan kita akan kehadiran Allah dan mendatangkan berkah dalam pekerjaan kita. Juga dapat dibaca saat merasa cemas untuk mendapatkan ketenangan dan ketenteraman.' :
        'We can apply this verse in our daily lives by saying "Bismillah" before eating, drinking, traveling, working, and starting any task. This constantly reminds us of Allah\'s presence and brings blessing to our actions. It can also be recited when feeling anxious to gain peace and tranquility.'
    }
    
    setTafsirResult(result)
    setIsGenerating(false)
  }

  const selectedLanguage = languages.find(l => l.code === language)

  return (
    <div className="min-h-screen bg-gradient-to-br from-purple-50 via-white to-blue-50">
      {/* Header */}
      <header className="bg-white shadow-sm border-b border-purple-100">
        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
          <div className="flex items-center justify-between">
            <div className="flex items-center space-x-4">
              <button 
                onClick={() => window.history.back()}
                className="text-gray-600 hover:text-gray-900 transition-colors"
              >
                â† Back
              </button>
              <div className="flex items-center space-x-3">
                <div className="w-12 h-12 bg-gradient-to-r from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center">
                  <span className="text-3xl">ğŸ“–</span>
                </div>
                <h1 className="text-2xl font-bold text-gray-900">AI Tafsir Generator</h1>
              </div>
            </div>
            
            <select
              value={language}
              onChange={(e) => setLanguage(e.target.value)}
              className="bg-white border border-gray-300 rounded-lg px-4 py-2 font-medium focus:ring-2 focus:ring-purple-500"
            >
              {languages.map((lang) => (
                <option key={lang.code} value={lang.code}>
                  {lang.flag} {lang.name}
                </option>
              ))}
            </select>
          </div>
        </div>
      </header>

      <div className="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        {/* Description */}
        <div className="text-center mb-12">
          <h2 className="text-4xl font-bold text-gray-900 mb-4">
            {language === 'arabic' ? 'ÙÙ‡Ù… Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ø¨Ø¹Ù…Ù‚' :
             language === 'turkish' ? 'Kuran-Ä± Kerim\'i Derinlemesine AnlayÄ±n' :
             language === 'indonesian' ? 'Memahami Al-Quran dengan Mendalam' :
             'Understand the Quran with Depth'}
          </h2>
          <p className="text-lg text-gray-600 max-w-3xl mx-auto">
            {language === 'arabic' ? 
              'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ ØªÙØ³ÙŠØ± Ø´Ø§Ù…Ù„ Ù„Ø¢ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… Ù…Ø¹ Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ ÙˆØ§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© ÙˆØ§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©.' :
             language === 'turkish' ?
              'Kuran ayetlerinin tarihsel baÄŸlamÄ±, pratik dersleri ve gÃ¼nlÃ¼k yaÅŸamda uygulamasÄ± ile kapsamlÄ± tefsir alÄ±n.' :
             language === 'indonesian' ?
              'Dapatkan tafsir komprehensif ayat-ayat Al-Quran dengan konteks sejarah, pelajaran praktis, dan penerapan dalam kehidupan sehari-hari.' :
              'Get comprehensive explanations of Quranic verses with historical context, practical lessons, and daily life applications.'}
          </p>
          <div className="mt-4 inline-flex items-center px-4 py-2 bg-purple-100 text-purple-800 rounded-full">
            <span className="mr-2">{selectedLanguage?.flag}</span>
            <span className="font-medium">{selectedLanguage?.name}</span>
          </div>
        </div>

        {/* Tafsir Generator Form */}
        <div className="bg-white rounded-3xl p-8 shadow-xl border border-gray-100 mb-8">
          <div className="grid md:grid-cols-2 gap-6 mb-8">
            {/* Surah Selection */}
            <div>
              <label className="block text-sm font-semibold text-gray-700 mb-3">
                {language === 'arabic' ? 'Ø§Ø®ØªØ± Ø§Ù„Ø³ÙˆØ±Ø©' :
                 language === 'turkish' ? 'Sure SeÃ§in' :
                 language === 'indonesian' ? 'Pilih Surah' :
                 'Select Surah'}
              </label>
              <select
                value={selectedSurah}
                onChange={(e) => setSelectedSurah(e.target.value)}
                className="w-full bg-white border border-gray-300 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-purple-500"
              >
                <option value="">
                  {language === 'arabic' ? 'Ø§Ø®ØªØ± Ø³ÙˆØ±Ø©...' :
                   language === 'turkish' ? 'Bir sure seÃ§in...' :
                   language === 'indonesian' ? 'Pilih surah...' :
                   'Select a surah...'}
                </option>
                {popularSurahs.map((surah) => (
                  <option key={surah.number} value={surah.name}>
                    {surah.number}. {surah.name} ({surah.arabicName})
                  </option>
                ))}
              </select>
            </div>

            {/* Verse Range */}
            <div>
              <label className="block text-sm font-semibold text-gray-700 mb-3">
                {language === 'arabic' ? 'Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¢ÙŠØ§Øª' :
                 language === 'turkish' ? 'Ayet AralÄ±ÄŸÄ±' :
                 language === 'indonesian' ? 'Rentang Ayat' :
                 'Verse Range'}
              </label>
              <input
                type="text"
                value={verseRange}
                onChange={(e) => setVerseRange(e.target.value)}
                placeholder={language === 'arabic' ? 'Ù…Ø«Ø§Ù„: 1-7 Ø£Ùˆ 1' :
                           language === 'turkish' ? 'Ã–rnek: 1-7 veya 1' :
                           language === 'indonesian' ? 'Contoh: 1-7 atau 1' :
                           'e.g., 1-7 or 1'}
                className="w-full bg-white border border-gray-300 rounded-xl px-4 py-3 font-medium focus:ring-2 focus:ring-purple-500"
              />
            </div>
          </div>

          <div className="grid md:grid-cols-2 gap-6 mb-8">
            {/* Explanation Level */}
            <div>
              <label className="block text-sm font-semibold text-gray-700 mb-3">
                {language === 'arabic' ? 'Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªÙØ³ÙŠØ±' :
                 language === 'turkish' ? 'AÃ§Ä±klama Seviyesi' :
                 language === 'indonesian' ? 'Tingkat Penjelasan' :
                 'Explanation Level'}
              </label>
              <div className="grid grid-cols-3 gap-2">
                {['simple', 'detailed', 'scholarly'].map((level) => (
                  <button
                    key={level}
                    onClick={() => setExplanationLevel(level as 'simple' | 'detailed' | 'scholarly')}
                    className={`py-3 px-4 rounded-xl font-medium transition-colors text-sm ${
                      explanationLevel === level
                        ? 'bg-purple-600 text-white'
                        : 'bg-gray-100 text-gray-700 hover:bg-gray-200'
                    }`}
                  >
                    {level === 'simple' && (language === 'arabic' ? 'Ø¨Ø³ÙŠØ·' : language === 'turkish' ? 'Basit' : language === 'indonesian' ? 'Sederhana' : 'Simple')}
                    {level === 'detailed' && (language === 'arabic' ? 'Ù…ÙØµÙ„' : language === 'turkish' ? 'DetaylÄ±' : language === 'indonesian' ? 'Rinci' : 'Detailed')}
                    {level === 'scholarly' && (language === 'arabic' ? 'Ø¹Ù„Ù…ÙŠ' : language === 'turkish' ? 'Akademik' : language === 'indonesian' ? 'Ilmiah' : 'Scholarly')}
                  </button>
                ))}
              </div>
            </div>

            {/* Quick Access */}
            <div>
              <label className="block text-sm font-semibold text-gray-700 mb-3">
                {language === 'arabic' ? 'ÙˆØµÙˆÙ„ Ø³Ø±ÙŠØ¹' :
                 language === 'turkish' ? 'HÄ±zlÄ± EriÅŸim' :
                 language === 'indonesian' ? 'Akses Cepat' :
                 'Quick Access'}
              </label>
              <div className="space-y-2">
                <button 
                  onClick={() => {setSelectedSurah('Al-Fatiha'); setVerseRange('1')}}
                  className="w-full text-left px-4 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-sm"
                >
                  ğŸ“– {language === 'arabic' ? 'Ø§Ù„ÙØ§ØªØ­Ø© 1' : 'Al-Fatiha 1'}
                </button>
                <button 
                  onClick={() => {setSelectedSurah('Al-Ikhlas'); setVerseRange('1-4')}}
                  className="w-full text-left px-4 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors text-sm"
                >
                  ğŸ•Œ {language === 'arabic' ? 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ 1-4' : 'Al-Ikhlas 1-4'}
                </button>
              </div>
            </div>
          </div>

          {/* Generate Button */}
          <button
            onClick={generateTafsir}
            disabled={isGenerating || !selectedSurah}
            className="w-full bg-gradient-to-r from-purple-600 to-blue-600 text-white py-4 px-8 rounded-2xl font-bold text-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50"
          >
            {isGenerating ? (
              <div className="flex items-center justify-center space-x-2">
                <div className="w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"></div>
                <span>
                  {language === 'arabic' ? 'Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØªÙØ³ÙŠØ±...' :
                   language === 'turkish' ? 'Tefsir oluÅŸturuluyor...' :
                   language === 'indonesian' ? 'Membuat tafsir...' :
                   'Generating Tafsir...'}
                </span>
              </div>
            ) : (
              <>
                ğŸ“– {language === 'arabic' ? 'Ø¥Ù†Ø´Ø§Ø¡ ØªÙØ³ÙŠØ±' :
                     language === 'turkish' ? 'Tefsir OluÅŸtur' :
                     language === 'indonesian' ? 'Buat Tafsir' :
                     'Generate Tafsir'}
              </>
            )}
          </button>
        </div>

        {/* Generated Tafsir */}
        {tafsirResult && (
          <div className="bg-white rounded-3xl p-8 shadow-xl border border-gray-100">
            {/* Verse Display */}
            <div className="text-center mb-8 pb-8 border-b border-gray-200">
              <div className="mb-4">
                <h3 className="text-sm font-medium text-gray-500 mb-2">{tafsirResult.reference}</h3>
                <div className="bg-gradient-to-r from-purple-50 to-blue-50 rounded-2xl p-6">
                  <p className="text-3xl font-bold text-purple-600 mb-4 leading-relaxed" dir="rtl" style={{fontFamily: 'Amiri, serif'}}>
                    {tafsirResult.verseArabic}
                  </p>
                  <p className="text-xl text-gray-800 leading-relaxed" dir={language === 'arabic' ? 'rtl' : 'ltr'}>
                    {tafsirResult.verse}
                  </p>
                </div>
              </div>
            </div>

            {/* Main Explanation */}
            <div className="mb-8">
              <h4 className="text-2xl font-bold text-gray-900 mb-4 flex items-center">
                <span className="mr-3">ğŸ’¡</span>
                {language === 'arabic' ? 'Ø§Ù„ØªÙØ³ÙŠØ±' :
                 language === 'turkish' ? 'AÃ§Ä±klama' :
                 language === 'indonesian' ? 'Penjelasan' :
                 'Explanation'}
              </h4>
              <div className="bg-gray-50 rounded-2xl p-6">
                <p className="text-lg leading-relaxed text-gray-800" dir={language === 'arabic' ? 'rtl' : 'ltr'}>
                  {tafsirResult.explanation}
                </p>
              </div>
            </div>

            {/* Key Lessons & Context Grid */}
            <div className="grid md:grid-cols-2 gap-6 mb-8">
              {/* Key Lessons */}
              <div className="bg-blue-50 rounded-2xl p-6">
                <h5 className="font-bold text-blue-800 mb-4 flex items-center">
                  <span className="mr-2">ğŸ¯</span>
                  {language === 'arabic' ? 'Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' :
                   language === 'turkish' ? 'Ana Dersler' :
                   language === 'indonesian' ? 'Pelajaran Utama' :
                   'Key Lessons'}
                </h5>
                <ul className="space-y-2">
                  {tafsirResult.keyLessons.map((lesson, index) => (
                    <li key={index} className="text-blue-700 flex items-start" dir={language === 'arabic' ? 'rtl' : 'ltr'}>
                      <span className="mr-2 text-blue-500">â€¢</span>
                      {lesson}
                    </li>
                  ))}
                </ul>
              </div>

              {/* Historical Context */}
              <div className="bg-green-50 rounded-2xl p-6">
                <h5 className="font-bold text-green-800 mb-4 flex items-center">
                  <span className="mr-2">ğŸ“œ</span>
                  {language === 'arabic' ? 'Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ' :
                   language === 'turkish' ? 'Tarihsel BaÄŸlam' :
                   language === 'indonesian' ? 'Konteks Sejarah' :
                   'Historical Context'}
                </h5>
                <p className="text-green-700 leading-relaxed" dir={language === 'arabic' ? 'rtl' : 'ltr'}>
                  {tafsirResult.historicalContext}
                </p>
              </div>
            </div>

            {/* Practical Application */}
            <div className="bg-amber-50 rounded-2xl p-6 mb-8">
              <h5 className="font-bold text-amber-800 mb-4 flex items-center">
                <span className="mr-2">ğŸŒŸ</span>
                {language === 'arabic' ? 'Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„ÙŠ' :
                 language === 'turkish' ? 'Pratik Uygulama' :
                 language === 'indonesian' ? 'Penerapan Praktis' :
                 'Practical Application'}
              </h5>
              <p className="text-amber-700 leading-relaxed" dir={language === 'arabic' ? 'rtl' : 'ltr'}>
                {tafsirResult.practicalApplication}
              </p>
            </div>

            {/* Action Buttons */}
            <div className="text-center space-x-4">
              <button
                onClick={generateTafsir}
                className="bg-gradient-to-r from-purple-600 to-blue-600 text-white py-3 px-6 rounded-2xl font-semibold hover:from-purple-700 hover:to-blue-700 transition-all duration-200"
              >
                {language === 'arabic' ? 'ØªÙØ³ÙŠØ± Ø¢Ø®Ø±' :
                 language === 'turkish' ? 'BaÅŸka Tefsir' :
                 language === 'indonesian' ? 'Tafsir Lain' :
                 'Another Tafsir'}
              </button>
              <button className="bg-gray-100 text-gray-700 py-3 px-6 rounded-2xl font-semibold hover:bg-gray-200 transition-all duration-200">
                {language === 'arabic' ? 'Ø­ÙØ¸ Ø§Ù„ØªÙØ³ÙŠØ±' :
                 language === 'turkish' ? 'Tefsiri Kaydet' :
                 language === 'indonesian' ? 'Simpan Tafsir' :
                 'Save Tafsir'}
              </button>
            </div>
          </div>
        )}
      </div>
    </div>
  )
}

export default TafsirGenerator